# Story: Isometric Visual Enhancement for 3D Sequencer - Night Theme

## Story ID: EPIC-2-VIS-001
**Status:** Draft
**Epic:** Epic 2 - 3D Boomwhacker Music Learning Application
**Priority:** High

## Story
As a user of the 3D sequencer, I want to see beautiful isometric-styled visuals with vibrant neon colors against a night sky theme while maintaining a front-facing perspective for the note flow, so that the application feels modern, engaging, and visually delightful with a magical nighttime atmosphere without sacrificing the Guitar Hero-style gameplay mechanics.

## Acceptance Criteria
- [ ] Notes flow from back to front (NOT at 45° angle) maintaining Guitar Hero perspective
- [ ] Visual elements use isometric rendering for depth and 3D appearance
- [ ] Background features dark purple/black gradient with subtle starfield
- [ ] Color palette uses vibrant neon colors that pop against dark background
- [ ] Notes appear as glowing 3D blocks with flat shading (top, front, side faces)
- [ ] Soft glow shadows under all elements for depth
- [ ] Background uses dark gradient (black to deep purple) with animated stars
- [ ] Floating animation on idle notes (gentle up/down motion)
- [ ] Lane dividers appear as glowing 3D pillars or crystal formations
- [ ] Strike zone has illuminated 3D platform appearance
- [ ] Maintains 60fps performance with new visual style

## Dev Notes
- Reference: `research/3d-reference-2.png` shows target isometric art style (adapt to night theme)
- Key distinction: Isometric RENDERING style, NOT isometric camera angle
- Notes still travel straight toward viewer (z-axis), not diagonally
- Think "Neon Monument Valley at night meets Guitar Hero mechanics"
- Dark theme reduces eye strain during extended play sessions

## Tasks
- [ ] Create isometric rendering system for 3D blocks
  - [ ] Implement drawIsometricBlock() function
  - [ ] Add face shading with neon glow (top: 100%, right: 85%, front: 70% brightness)
  - [ ] Create rounded corner variants for softer look
  - [ ] Add emissive glow effects for night theme
- [ ] Update color system to neon night palette
  - [ ] Define neon color arrays (cyan, magenta, lime, orange, pink, yellow)
  - [ ] Implement glow/bloom effect utilities
  - [ ] Add gradient support for dark backgrounds
- [ ] Implement night sky background system
  - [ ] Create starfield with varying star sizes and brightness
  - [ ] Add subtle twinkling animation for stars
  - [ ] Implement gradient from black (#000000) to deep purple (#1a0033)
  - [ ] Optional: Add subtle nebula clouds
- [ ] Implement soft glow shadow system
  - [ ] Create glow shadow rendering function
  - [ ] Use additive blending for light emissions
  - [ ] Add color-matched glows under elements
- [ ] Enhance note rendering with glowing 3D blocks
  - [ ] Replace flat squares with glowing isometric cubes
  - [ ] Add floating animation (sin wave offset)
  - [ ] Implement size scaling based on distance
  - [ ] Add pulse glow on active notes
- [ ] Create night-themed decorative elements
  - [ ] Add floating star particles
  - [ ] Implement light trail effects
  - [ ] Create glowing crystal lane dividers
  - [ ] Optional: Add constellation patterns in background
- [ ] Redesign strike zone as illuminated 3D platform
  - [ ] Render as glowing platform with isometric sides
  - [ ] Add bright flash effect on note hits
  - [ ] Include neon pulse animations
  - [ ] Create energy field appearance
- [ ] Performance optimization
  - [ ] Implement object pooling for 3D elements
  - [ ] Add level-of-detail system
  - [ ] Profile and optimize render calls
  - [ ] Optimize glow effects for performance

## Testing
- Visual regression tests comparing screenshots
- Performance benchmarks (maintain 60fps with glow effects)
- Cross-browser rendering verification
- Mobile device performance testing
- Dark theme accessibility testing

## File List
- `research/guitar_hero_sequencer.html` (to be modified)

## Change Log
- Initial story creation
- Updated theme to night time with dark purple starry background

## Dev Agent Record
**Agent Model Used:** Claude
**Debug Log References:**
**Completion Notes:**
- Story created for isometric visual enhancement with night theme
- Maintains front-facing perspective (not 45° angle)
- Focuses on neon/glow aesthetics against dark background
- Added starfield and space theme elements