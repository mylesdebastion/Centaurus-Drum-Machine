# Story 22.1: Multi-Path Onboarding System

**Epic**: 22 - AI-Native Product-Led Growth Flywheel
**Status**: ðŸ“‹ Draft
**Priority**: ðŸ”´ Critical (Week 1)
**Estimated Effort**: 3-4 hours
**Owner**: Solo Dev

---

## Story

As a **new user landing on jam.audiolux.app**,
I want **a personalized 30-second tutorial tailored to my use case**,
So that **I experience an "aha moment" quickly and want to share with others**.

---

## Context

**Problem**: Current onboarding is generic (or non-existent). Users land on Studio and don't know what to do. High bounce rate, low activation.

**Solution**: Build 6 persona-specific onboarding paths with reusable components that:
1. Hook user in 3 seconds (preview what they'll create)
2. Guide them to create THEIR first beat in 30 seconds
3. Celebrate success + prompt to share

**Psychology**: People remember what they DO, not what they watch. Interactive tutorial > demo video.

**Persona v2.0 Update**: Redesigned from 5 to 6 personas. See `docs/marketing/10-persona-research-redesign.md` for full rationale.

**Reference**: Epic 22, AI-native product-led growth strategy

---

## Acceptance Criteria

### Must-Have

- [ ] **URL routing with discrete codes**:
  - `jam.audiolux.app?v=m` â†’ Musician path (no selector shown)
  - `jam.audiolux.app?v=d` â†’ Deaf/HOH Person path
  - `jam.audiolux.app?v=e` â†’ Educator path
  - `jam.audiolux.app?v=v` â†’ Visual Learner path
  - `jam.audiolux.app?v=p` â†’ Producer path
  - `jam.audiolux.app?v=i` â†’ Enterprise/Institution path
  - `jam.audiolux.app` (no code) â†’ PersonaSelector shown

- [ ] **PersonaSelector component** (shown when no `?v=` code):
  - 6 persona cards with icons and descriptions
  - Click card â†’ start that persona's tutorial
  - "Just exploring" skip button â†’ generic tutorial

- [ ] **6 Persona-Specific Tutorial Paths**:
  - Each path completes in <60 seconds
  - Each path results in working beat playback
  - Each path ends with celebration + share prompt
  - Messaging tailored to persona (see details below)

- [ ] **GuidedTutorial component** with features:
  - Step-by-step instructions with highlights
  - Progress indicator ("Step 2 of 4")
  - Confetti/celebration on key milestones
  - Can't skip ahead (must complete each step)
  - Works on mobile and desktop

- [ ] **Activation milestone tracking**:
  - `tutorial_started` - User begins onboarding
  - `first_step_completed` - First interaction
  - `first_playback` - User presses play (KEY MOMENT)
  - `tutorial_completed` - Full tutorial done
  - `share_prompted` - User sees share modal

### Nice-to-Have

- [ ] Hand animation showing where to click (optional polish)
- [ ] Sound effects for celebrations (muted by default, toggle on)
- [ ] Tutorial replay option ("Show me again")
- [ ] Progress saved if user refreshes (localStorage)

---

## Persona Tutorial Details

### Path 1: Musician (`?v=m`)

**Messaging**: "Browser-based music creation"

**Tutorial Steps** (uses Reusable Component: Quick Beat Creation):
1. **Hook** (3 seconds):
   - "Make a beat in 30 seconds. No download needed."
   - Big button: "â–¶ Start creating"

2. **Create Kick Pattern** (12 seconds):
   - "Tap 4 boxes to create a kick drum rhythm"
   - Highlight kick drum row
   - Wait for user to tap [0, 4, 8, 12]
   - Confetti when done âœ¨

3. **Add Snare** (8 seconds):
   - "Add snare on beats 2 and 4"
   - Highlight snare row
   - Wait for taps at [4, 12]
   - Confetti âœ¨

4. **Play Your Beat** (5 seconds):
   - "Press play to hear your music"
   - Highlight play button
   - Wait for playback start
   - FULL SCREEN CONFETTI ðŸŽ‰

5. **Celebration**:
   - "You just made music in your browser ðŸŽ¹"
   - "30 seconds. No download needed."
   - Share button: "Jam with a friend"

---

### Path 2: Deaf/HOH Person (`?v=d`)

**Messaging**: "Music for everyone. No hearing required."

**Tutorial Steps** (uses Reusable Components: Visual Music Theory + Color Sequencer):
1. **Hook** (3 seconds):
   - "Make music. No hearing required."
   - Big button: "ðŸ‘€ See what you'll create"
   - Plays silent animation of beat pattern + color changes (visual only)

2. **Visual Music Theory** (15 seconds):
   - "Colors show pitch. Red = C, Orange = D, Yellow = E..."
   - Load Chord Builder module
   - "Click the C Major chord"
   - See colors light up (red, yellow, blue)
   - Confetti âœ¨

3. **Visual Beat Creation** (10 seconds):
   - "Create a rhythm pattern (watch the grid, no sound needed)"
   - Tap kick drum pattern [0, 4, 8, 12]
   - Visual feedback on each tap

4. **See Your Music** (5 seconds):
   - "Press play to SEE your music (visual feedback)"
   - Show waveform visualizer, color changes
   - FULL SCREEN CONFETTI ðŸŽ‰

5. **Celebration**:
   - "You just created music visually ðŸŽ¨"
   - "No hearing required."
   - Share button: "Share with Deaf community"

---

### Path 3: Educator (`?v=e`)

**Messaging**: "Teach music visually"

**Tutorial Steps**:
1. **Hook**:
   - "Your students will learn music in 30 seconds"
   - "See what they'll create"

2. **Visual Music Theory**:
   - "Colors show pitch. Red = C, Orange = D..."
   - Load Chord Builder module
   - "Click a C Major chord"
   - User clicks pre-made chord button

3. **Pattern Creation**:
   - "Add a drum rhythm (students see patterns, not notation)"
   - Create simple kick pattern

4. **Play Together**:
   - "Press play - this is what students will hear AND see"
   - Playback with visual feedback

5. **Celebration**:
   - "This is how your students will learn ðŸŽ“"
   - "Share with class" button
   - Bonus: "Get classroom license (30 students, $199/year)"

---

### Path 4: Visual Learner (`?v=v`)

**Messaging**: "Music production for visual thinkers"

**Tutorial Steps**:
1. **Hook**:
   - "No sheet music needed. If you can see a pattern, you can make music."

2. **Grid = Rhythm**:
   - "The grid is rhythm. Light boxes = beats."
   - Create kick pattern on visual grid

3. **Color = Pitch**:
   - "Load Chord Builder"
   - "Colors show pitch relationships"
   - Click chord to see colors

4. **Playback**:
   - "Watch the pattern come alive"

5. **Celebration**:
   - "You just made music visually ðŸ‘ï¸"
   - Share button

---

### Path 5: Producer/Beatmaker (`?v=p`)

**Messaging**: "Modular browser DAW"

**Tutorial Steps**:
1. **Hook**:
   - "Modular workflow. Real-time collaboration. Zero install."

2. **Drag-Drop Modules**:
   - "Drag the drum icon to start"
   - Wait for module load

3. **Quick Beat**:
   - "Create a pattern - like Ableton racks, in your browser"
   - Fast-paced tutorial (assumes music production knowledge)

4. **Collaboration Teaser**:
   - "Send a link - instant jam session"

5. **Celebration**:
   - "Modular DAW, no download needed ðŸŽ¹"
   - "Invite a collaborator" button

---

### Path 6: Enterprise/Institution (`?v=i`)

**Messaging**: "Scalable accessible music education platform"

**Tutorial Steps** (uses Reusable Components: Visual Theory + Collaboration + Pricing):
1. **Hook** (5 seconds):
   - "Accessible music education for your entire program"
   - Big button: "ðŸ‘€ See the full platform"

2. **Visual Music Theory** (15 seconds):
   - "Inclusive for Deaf, HOH, visual learners"
   - Show color-coded sequencer demo
   - "Students see theory as they create"

3. **Collaboration Features** (15 seconds):
   - "Students work together in real-time"
   - Show classroom session (visual: 10 students jamming)
   - "No software install, works on Chromebooks"

4. **Admin Features** (10 seconds):
   - "Teacher dashboard, student analytics"
   - Show admin panel mockup
   - "Export projects for grading"

5. **Pricing & Support** (10 seconds):
   - "Enterprise licenses: $199/yr (30 seats)"
   - "Dedicated support, onboarding training"

6. **CTA** (5 seconds):
   - "Schedule enterprise demo with our team"
   - Contact form appears

---

## Technical Implementation

### File Structure

```
src/
  components/
    Onboarding/
      PersonaSelector.tsx       # Shown when no ?v= code
      GuidedTutorial.tsx        # Core tutorial component
      WelcomeHook.tsx           # 3-second preview hook
      CelebrationMoment.tsx     # Confetti + share prompt
      paths/
        MusicianPath.tsx        # ?v=m
        DeafPersonPath.tsx      # ?v=d (updated from DeafMusicianPath)
        EducatorPath.tsx        # ?v=e
        VisualLearnerPath.tsx   # ?v=v
        ProducerPath.tsx        # ?v=p
        EnterprisePath.tsx      # ?v=i (NEW)
  utils/
    personaCodes.ts             # URL decoding logic
    activationTracking.ts       # Milestone tracking
```

---

### Core Implementation: personaCodes.ts

```typescript
// src/utils/personaCodes.ts

export type PersonaType =
  | 'musician'
  | 'deaf-person'
  | 'educator'
  | 'visual-learner'
  | 'producer'
  | 'enterprise'
  | null;

export interface PersonaConfig {
  persona: PersonaType;
  referralCode: string | null;
  showSelector: boolean;
}

// Discrete URL codes (looks like version param, not labeling)
export const PERSONA_MAP: Record<string, PersonaType> = {
  'm': 'musician',
  'd': 'deaf-person',
  'e': 'educator',
  'v': 'visual-learner',
  'p': 'producer',
  'i': 'enterprise'
};

// Reverse map for encoding
export const PERSONA_CODE_MAP: Record<string, string> = {
  'musician': 'm',
  'deaf-person': 'd',
  'educator': 'e',
  'visual-learner': 'v',
  'producer': 'p',
  'enterprise': 'i'
};

/**
 * Decode URL parameters to determine persona and referral
 *
 * Examples:
 *   jam.audiolux.app?v=d&r=sc4t â†’ deaf-person persona, scarlet referral
 *   jam.audiolux.app?v=i&r=gl7u â†’ enterprise persona, gallaudet referral
 *   jam.audiolux.app â†’ no persona, show selector
 */
export function decodePersonaUrl(): PersonaConfig {
  const params = new URLSearchParams(window.location.search);
  const code = params.get('v');
  const refCode = params.get('r');

  return {
    persona: code ? PERSONA_MAP[code] || null : null,
    referralCode: refCode,
    showSelector: !code  // Show selector if no code provided
  };
}

/**
 * Generate shareable URL for a persona
 *
 * @param persona - Persona type
 * @param referrerName - Name of person sharing (for tracking)
 * @returns Clean shareable URL with discrete codes
 *
 * Example:
 *   generateShareUrl('educator', 'Sarah Smith')
 *   â†’ jam.audiolux.app?v=e&r=sa7f
 */
export function generateShareUrl(
  persona: PersonaType,
  referrerName: string
): string {
  if (!persona) return 'jam.audiolux.app';

  const code = PERSONA_CODE_MAP[persona];
  const refCode = generateRefCode(referrerName);

  return `jam.audiolux.app?v=${code}&r=${refCode}`;
}

/**
 * Generate discrete referral code from name
 * Format: first 2 chars + 2-char hash
 *
 * Examples:
 *   'Scarlet Watters' â†’ 'sc4t'
 *   'Sean Forbes' â†’ 'se8a'
 */
function generateRefCode(name: string): string {
  const cleaned = name.toLowerCase().replace(/[^a-z]/g, '');
  const firstTwo = cleaned.slice(0, 2);
  const hash = simpleHash(name).slice(0, 2);
  return firstTwo + hash;
}

function simpleHash(str: string): string {
  let hash = 0;
  for (let i = 0; i < str.length; i++) {
    const char = str.charCodeAt(i);
    hash = ((hash << 5) - hash) + char;
    hash = hash & hash; // Convert to 32bit integer
  }
  return Math.abs(hash).toString(36);
}
```

---

### PersonaSelector Component

```tsx
// src/components/Onboarding/PersonaSelector.tsx

import React from 'react';
import { Music, Ear, GraduationCap, Eye, Headphones, Building2 } from 'lucide-react';

interface PersonaCard {
  id: string;
  persona: 'musician' | 'deaf-person' | 'educator' | 'visual-learner' | 'producer' | 'enterprise';
  icon: React.ReactNode;
  title: string;
  description: string;
}

const PERSONA_CARDS: PersonaCard[] = [
  {
    id: 'm',
    persona: 'musician',
    icon: <Music className="w-12 h-12" />,
    title: "I make music",
    description: "I want an easy browser-based tool"
  },
  {
    id: 'd',
    persona: 'deaf-person',
    icon: <Ear className="w-12 h-12" />,
    title: "I'm Deaf or Hard of Hearing",
    description: "I want accessible music experiences"
  },
  {
    id: 'e',
    persona: 'educator',
    icon: <GraduationCap className="w-12 h-12" />,
    title: "I teach music",
    description: "I want accessible tools for students"
  },
  {
    id: 'v',
    persona: 'visual-learner',
    icon: <Eye className="w-12 h-12" />,
    title: "I'm a visual learner",
    description: "I learn better by seeing patterns"
  },
  {
    id: 'p',
    persona: 'producer',
    icon: <Headphones className="w-12 h-12" />,
    title: "I produce beats/music",
    description: "I want a professional browser DAW"
  },
  {
    id: 'i',
    persona: 'enterprise',
    icon: <Building2 className="w-12 h-12" />,
    title: "I represent a school/organization",
    description: "I need scalable accessible music education"
  }
];

interface PersonaSelectorProps {
  onSelect: (persona: PersonaCard['persona']) => void;
}

export const PersonaSelector: React.FC<PersonaSelectorProps> = ({ onSelect }) => {
  return (
    <div className="min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 flex items-center justify-center p-4">
      <div className="max-w-4xl w-full">
        <div className="text-center mb-12">
          <h1 className="text-4xl sm:text-5xl font-bold text-white mb-4">
            Welcome to Audiolux
          </h1>
          <p className="text-xl text-gray-300">
            What brings you here today?
          </p>
        </div>

        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
          {PERSONA_CARDS.map((card) => (
            <button
              key={card.id}
              onClick={() => onSelect(card.persona)}
              className="bg-gray-800 hover:bg-gray-700 border-2 border-gray-700 hover:border-primary-500 rounded-lg p-6 text-left transition-all duration-200 group"
            >
              <div className="text-primary-400 mb-4 group-hover:scale-110 transition-transform">
                {card.icon}
              </div>
              <h3 className="text-lg font-semibold text-white mb-2">
                {card.title}
              </h3>
              <p className="text-sm text-gray-400">
                {card.description}
              </p>
            </button>
          ))}
        </div>

        <div className="text-center">
          <button
            onClick={() => onSelect(null)}
            className="text-gray-400 hover:text-white transition-colors"
          >
            Just exploring â†’
          </button>
        </div>
      </div>
    </div>
  );
};
```

---

### GuidedTutorial Component

```tsx
// src/components/Onboarding/GuidedTutorial.tsx

import React, { useState } from 'react';
import Confetti from 'react-confetti';
import { useWindowSize } from 'react-use';

export interface TutorialStep {
  id: string;
  instruction: string;
  emphasis?: string;
  highlight?: string;  // CSS selector to highlight
  waitFor: string;     // Event to wait for before proceeding
  confetti?: boolean;
  celebration?: 'small' | 'full-screen';
}

interface GuidedTutorialProps {
  steps: TutorialStep[];
  onComplete: () => void;
}

export const GuidedTutorial: React.FC<GuidedTutorialProps> = ({ steps, onComplete }) => {
  const [currentStep, setCurrentStep] = useState(0);
  const [showConfetti, setShowConfetti] = useState(false);
  const { width, height } = useWindowSize();

  const step = steps[currentStep];

  const handleStepComplete = () => {
    if (step.confetti) {
      setShowConfetti(true);
      setTimeout(() => setShowConfetti(false), 3000);
    }

    if (currentStep < steps.length - 1) {
      setCurrentStep(currentStep + 1);
    } else {
      onComplete();
    }
  };

  return (
    <div className="relative">
      {showConfetti && (
        <Confetti
          width={width}
          height={height}
          recycle={false}
          numberOfPieces={step.celebration === 'full-screen' ? 500 : 200}
        />
      )}

      {/* Tutorial Overlay */}
      <div className="fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-gray-900 border-2 border-primary-500 rounded-lg p-4 shadow-lg max-w-md">
        <div className="mb-2 flex items-center justify-between">
          <span className="text-sm text-gray-400">
            Step {currentStep + 1} of {steps.length}
          </span>
          <div className="flex gap-1">
            {steps.map((_, idx) => (
              <div
                key={idx}
                className={`w-2 h-2 rounded-full ${
                  idx <= currentStep ? 'bg-primary-500' : 'bg-gray-600'
                }`}
              />
            ))}
          </div>
        </div>

        <h3 className="text-lg font-semibold text-white mb-1">
          {step.instruction}
        </h3>

        {step.emphasis && (
          <p className="text-sm text-gray-300">
            {step.emphasis}
          </p>
        )}
      </div>

      {/* Highlight target element */}
      {step.highlight && (
        <HighlightOverlay selector={step.highlight} />
      )}

      {/* Event listener for step completion */}
      <StepWatcher
        eventName={step.waitFor}
        onEvent={handleStepComplete}
      />
    </div>
  );
};

// Helper component to highlight target elements
const HighlightOverlay: React.FC<{ selector: string }> = ({ selector }) => {
  const [rect, setRect] = useState<DOMRect | null>(null);

  React.useEffect(() => {
    const element = document.querySelector(selector);
    if (element) {
      setRect(element.getBoundingClientRect());
    }
  }, [selector]);

  if (!rect) return null;

  return (
    <>
      {/* Darken everything except target */}
      <div className="fixed inset-0 bg-black/50 z-40 pointer-events-none" />

      {/* Highlight target */}
      <div
        className="fixed z-50 border-4 border-primary-500 rounded-lg pointer-events-none animate-pulse"
        style={{
          top: rect.top - 8,
          left: rect.left - 8,
          width: rect.width + 16,
          height: rect.height + 16
        }}
      />
    </>
  );
};

// Helper component to wait for events
const StepWatcher: React.FC<{ eventName: string; onEvent: () => void }> = ({ eventName, onEvent }) => {
  React.useEffect(() => {
    const handler = () => onEvent();
    window.addEventListener(eventName, handler);
    return () => window.removeEventListener(eventName, handler);
  }, [eventName, onEvent]);

  return null;
};
```

---

### Main Onboarding Router

```tsx
// src/components/Onboarding/OnboardingRouter.tsx

import React, { useState, useEffect } from 'react';
import { decodePersonaUrl, PersonaConfig } from '@/utils/personaCodes';
import { PersonaSelector } from './PersonaSelector';
import { MusicianPath } from './paths/MusicianPath';
import { DeafPersonPath } from './paths/DeafPersonPath';
import { EducatorPath } from './paths/EducatorPath';
import { VisualLearnerPath } from './paths/VisualLearnerPath';
import { ProducerPath } from './paths/ProducerPath';
import { EnterprisePath } from './paths/EnterprisePath';

export const OnboardingRouter: React.FC = () => {
  const [config, setConfig] = useState<PersonaConfig | null>(null);

  useEffect(() => {
    const personaConfig = decodePersonaUrl();
    setConfig(personaConfig);

    // Track landing
    if (personaConfig.persona) {
      trackEvent('onboarding', 'persona_path_started', personaConfig.persona);
    }
    if (personaConfig.referralCode) {
      trackEvent('acquisition', 'referral_landing', personaConfig.referralCode);
    }
  }, []);

  if (!config) return null;

  // Show PersonaSelector if no code provided
  if (config.showSelector) {
    return <PersonaSelector onSelect={handlePersonaSelect} />;
  }

  // Route to specific persona path
  switch (config.persona) {
    case 'musician':
      return <MusicianPath referralCode={config.referralCode} />;
    case 'deaf-person':
      return <DeafPersonPath referralCode={config.referralCode} />;
    case 'educator':
      return <EducatorPath referralCode={config.referralCode} />;
    case 'visual-learner':
      return <VisualLearnerPath referralCode={config.referralCode} />;
    case 'producer':
      return <ProducerPath referralCode={config.referralCode} />;
    case 'enterprise':
      return <EnterprisePath referralCode={config.referralCode} />;
    default:
      return <PersonaSelector onSelect={handlePersonaSelect} />;
  }

  function handlePersonaSelect(persona: string | null) {
    setConfig({
      persona,
      referralCode: null,
      showSelector: false
    });
    trackEvent('onboarding', 'persona_selected', persona);
  }
};

function trackEvent(category: string, action: string, label?: string) {
  window.dispatchEvent(new CustomEvent('activation_milestone', {
    detail: { category, action, label }
  }));
}
```

---

## Validation & Testing

### Manual Testing Checklist

**URL Routing** (6 personas):
- [ ] Visit `jam.audiolux.app` â†’ PersonaSelector shows
- [ ] Visit `jam.audiolux.app?v=m` â†’ Musician tutorial starts (no selector)
- [ ] Visit `jam.audiolux.app?v=d` â†’ Deaf/HOH Person tutorial starts (no selector)
- [ ] Visit `jam.audiolux.app?v=e` â†’ Educator tutorial starts
- [ ] Visit `jam.audiolux.app?v=v` â†’ Visual Learner tutorial starts
- [ ] Visit `jam.audiolux.app?v=p` â†’ Producer tutorial starts
- [ ] Visit `jam.audiolux.app?v=i` â†’ Enterprise/Institution tutorial starts
- [ ] Visit `jam.audiolux.app?v=invalid` â†’ PersonaSelector shows (fallback)

**Tutorial Flow** (test one path end-to-end):
- [ ] Tutorial completes in <60 seconds
- [ ] Each step highlights correct element
- [ ] Confetti triggers on key milestones
- [ ] Final celebration shows
- [ ] Share prompt appears after completion
- [ ] User can create a working beat

**Mobile Responsiveness**:
- [ ] PersonaSelector cards stack on mobile
- [ ] Tutorial overlay doesn't cover important UI
- [ ] Touch targets are â‰¥44px

**Analytics Events**:
- [ ] `tutorial_started` fires when path begins
- [ ] `first_playback` fires when user presses play
- [ ] `tutorial_completed` fires at end
- [ ] Events appear in analytics dashboard

---

## Success Metrics

**Primary KPIs** (Week 1):
- âœ… 50%+ tutorial completion rate (users finish all steps)
- âœ… <60 seconds average completion time
- âœ… 30%+ click share button after completion

**Secondary KPIs** (Week 4):
- âœ… 60%+ completion rate (improved from Week 1)
- âœ… Educator path has 2x higher share rate (teachers invite students)
- âœ… 70%+ of users who complete tutorial return within 7 days

---

## Dependencies

**Blockers**: None (can start immediately)

**Required**:
- React Router (URL parameter parsing)
- React Confetti library (`npm install react-confetti react-use`)
- Lucide React icons (already installed)
- Tailwind CSS (already configured)

**Optional**:
- Lottie animations for hand gestures (Week 2 polish)
- Sound effects library (if adding audio feedback)

---

## Risks & Mitigation

### Risk 1: Tutorial Too Long (>60 seconds)
**Mitigation**: User test with 5 people, trim steps if average >60s

### Risk 2: Users Skip Tutorial
**Mitigation**: Make tutorial mandatory on first visit, can replay later

### Risk 3: Confetti Library Performance Issues
**Mitigation**: Use lightweight alternative or CSS-only confetti

---

## Definition of Done

- [ ] All acceptance criteria met
- [ ] 6 persona paths implemented and tested
- [ ] URL routing works with discrete codes (`?v=m/d/e/v/p/i`)
- [ ] PersonaSelector shows when no code provided
- [ ] Tutorial completes in <60 seconds (tested)
- [ ] Mobile responsive (tested on iPhone, Android)
- [ ] Analytics events firing correctly
- [ ] No console errors
- [ ] Code review completed
- [ ] Deployed to production (jam.audiolux.app)
- [ ] Story marked as "Review" status

---

## Dev Agent Record

### Agent Model Used
[To be filled by dev agent]

### Completion Notes
[To be filled by dev agent]

### File List
```
src/components/Onboarding/
  OnboardingRouter.tsx
  PersonaSelector.tsx
  GuidedTutorial.tsx
  WelcomeHook.tsx
  CelebrationMoment.tsx
  paths/
    MusicianPath.tsx        # ?v=m (NEW)
    DeafPersonPath.tsx      # ?v=d (renamed from DeafMusicianPath)
    EducatorPath.tsx        # ?v=e
    VisualLearnerPath.tsx   # ?v=v
    ProducerPath.tsx        # ?v=p
    EnterprisePath.tsx      # ?v=i (NEW)

src/utils/
  personaCodes.ts
  activationTracking.ts
```

### Change Log
[To be filled by dev agent]

### Debug Log References
[To be filled by dev agent]

---

## Related Stories

- **Story 22.2**: AI Outreach Generator (uses persona codes to generate URLs)
- **Story 22.3**: Referral Attribution (tracks `?r=` codes from this story)
- **Story 22.4**: Viral Loop Triggers (share prompts at end of tutorials)

---

## Document Version

**Version**: 1.0
**Created**: 2025-10-25
**Last Updated**: 2025-10-25
**Status**: ðŸ“‹ **Draft - Ready for Development**
