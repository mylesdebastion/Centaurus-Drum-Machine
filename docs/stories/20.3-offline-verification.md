# Story 20.3: Offline-First Mode Verification

**Epic:** Epic 20 - Workshop-Ready Education Mode
**Status:** üìù **PLANNING**
**Priority:** üî¥ **CRITICAL** (Workshop in 2 days)
**Time Estimate:** 2-3 hours
**Prerequisites:** Story 20.1 (Workshop Config Auto-Load)
**Owner:** Dev Team

---

## Story Statement

**As a** music workshop instructor,
**I want** the Centaurus app to work completely offline without internet connectivity,
**So that** I can run the workshop at any venue without relying on internet access or cloud services.

---

## Context and Background

### Workshop Reality (Wednesday, Oct 22)
- **Network Setup:** Laptop + mobile router (local WiFi only, no internet)
- **Constraint:** School venue may not have reliable WiFi, internet not guaranteed
- **Risk:** Cloud dependencies (Supabase, Stripe, auth) would be blocking failures
- **Success Metric:** Workshop functions 100% offline - zero internet dependency

### Technical Context
- **Current Dependencies:** Supabase (settings sync, auth), Stripe (license validation), external APIs
- **Deferred Stories:** Story 7.10 (Supabase sync), Story 10.7 (Stripe), Story 18.11 (migration UI)
- **Offline-First Pattern:** All workshop features must work without internet, with graceful degradation

### Existing System Behavior
- **localStorage:** Settings already persist locally
- **WebSocket Bridge:** WLED communication via local network (port 8080, no internet needed)
- **MIDI API:** Browser MIDI API is local (no network required)
- **React Router:** Client-side routing (no server dependency)

---

## Acceptance Criteria

### AC1: Workshop Startup Without Internet
**Given** the laptop has no internet connection (WiFi disabled or airplane mode),
**When** the instructor runs `education/workshop-start.bat`,
**Then:**
1. WLED WebSocket bridge starts on port 8080 (local only)
2. Vite dev server starts on port 5173 (local only)
3. Browser opens to `http://localhost:5173`
4. Workshop config loads from local file (`education/workshop-config.json`)
5. App navigates to `/isometric` automatically
6. WLED devices connect via local network (mobile router subnet)
7. Sequencer plays patterns with WLED visualization

**Validation:**
- ‚úÖ Startup completes in <30 seconds without internet
- ‚úÖ No blocking errors in browser console
- ‚úÖ No "network unavailable" error dialogs
- ‚úÖ WLED tubes light up synchronized with sequencer

---

### AC2: No Supabase API Calls in Workshop Mode
**Given** workshop mode is activated (`workshopMode: true` in config),
**When** the app initializes and the user interacts with features,
**Then:**
1. **No Supabase API calls attempted:**
   - No auth token requests
   - No settings sync requests
   - No Realtime connection attempts
   - No database queries
2. **Settings persist via localStorage only:**
   - Tempo changes saved to `localStorage.setItem('global-tempo', ...)`
   - WLED device config saved to `localStorage.setItem('wled-devices', ...)`
   - Pattern data saved to `localStorage.setItem('patterns', ...)`
3. **Auth bypassed:**
   - Anonymous mode active (no login prompt)
   - User ID set to `'workshop-anonymous'` or similar
   - No JWT tokens generated or validated

**Validation:**
- ‚úÖ Browser DevTools Network tab shows zero requests to `*.supabase.co`
- ‚úÖ Console logs show: "Workshop Mode: Supabase API disabled"
- ‚úÖ Settings persist after browser refresh (localStorage working)
- ‚úÖ No auth-related errors or warnings in console

**Implementation Approach:**
```typescript
// src/config/workshopMode.ts
export function isWorkshopMode(): boolean {
  return localStorage.getItem('workshop-mode') === 'true';
}

// src/services/SupabaseSession.ts
export async function initSupabase() {
  if (isWorkshopMode()) {
    console.log('Workshop Mode: Supabase API disabled');
    return null; // Skip Supabase initialization
  }

  // Normal Supabase initialization for non-workshop users
  return supabaseClient;
}
```

---

### AC3: No License Validation in Workshop Mode
**Given** workshop mode is activated,
**When** the app initializes,
**Then:**
1. **Skip Stripe license checks:**
   - No license API calls
   - No license expiration checks
   - No "upgrade to pro" prompts
2. **Assume unlimited access:**
   - All features enabled (education mode, /isometric, WLED manager, etc.)
   - No feature gating based on license tier
   - Workshop config overrides license restrictions

**Validation:**
- ‚úÖ No Stripe API calls in browser Network tab
- ‚úÖ Console logs show: "Workshop Mode: License validation disabled"
- ‚úÖ All features accessible (no "upgrade required" blocks)

**Implementation Approach:**
```typescript
// src/hooks/useLicense.ts
export function useLicense() {
  const workshopMode = isWorkshopMode();

  if (workshopMode) {
    return {
      tier: 'workshop',
      features: {
        educationMode: true,
        wledIntegration: true,
        apc40Integration: true,
        unlimitedDevices: true
      },
      valid: true
    };
  }

  // Normal license check for non-workshop users
  return checkLicenseFromStripe();
}
```

---

### AC4: Graceful Degradation for Optional Cloud Features
**Given** workshop mode is activated or internet is unavailable,
**When** the user accesses features with optional cloud integration,
**Then:**
1. **Settings sync (Story 7.10) disabled:**
   - Show warning banner (optional): "Offline Mode - Settings saved locally"
   - Settings persist to localStorage only
   - No sync conflicts or errors
2. **Settings migration UI (Story 18.11) disabled:**
   - Migration UI hidden or disabled
   - No migration prompts shown
   - Existing localStorage settings used directly
3. **User authentication (Story 18.0) bypassed:**
   - Anonymous user mode active
   - No login/logout buttons shown
   - User profile set to `{ name: 'Workshop Instructor', id: 'workshop-anonymous' }`

**Validation:**
- ‚úÖ Offline mode indicator shown (optional UI badge/banner)
- ‚úÖ No blocking errors from disabled cloud features
- ‚úÖ Features degrade gracefully (warnings, not errors)
- ‚úÖ User can continue workshop without interruption

**Implementation Approach:**
```typescript
// src/components/OfflineModeIndicator.tsx
export function OfflineModeIndicator() {
  const workshopMode = isWorkshopMode();
  if (!workshopMode) return null;

  return (
    <div className="bg-yellow-800 text-yellow-100 px-4 py-2 text-sm">
      üì° Offline Mode - Settings saved locally
    </div>
  );
}
```

---

### AC5: WLED Integration Works Offline
**Given** laptop and WLED tubes are on the same local network (mobile router),
**When** the user plays patterns in `/isometric`,
**Then:**
1. **WebSocket bridge connects locally:**
   - Bridge listens on `ws://localhost:8080`
   - Browser connects to `ws://localhost:8080` (no DNS, no internet)
   - WLED HTTP API calls go to local IPs (e.g., `http://192.168.X.151/json/state`)
2. **WLED devices respond:**
   - Device status shows "Connected" in UI
   - LED visualization synced with sequencer playhead
   - Color changes reflected on physical WLED tubes
   - Latency <50ms (local network speed)
3. **Connection resilience:**
   - If 1 tube disconnects ‚Üí continue with remaining 5 tubes
   - Auto-reconnect when tube comes back online
   - Device status indicators update in real-time

**Validation:**
- ‚úÖ WLED tubes light up synchronized with `/isometric` sequencer
- ‚úÖ All 6 tubes show "Connected" status in UI
- ‚úÖ Browser Network tab shows WebSocket connection to `localhost:8080`
- ‚úÖ Browser Network tab shows HTTP requests to local WLED IPs (192.168.X.xxx)
- ‚úÖ No failed requests to external domains

---

### AC6: Error Handling for Network Failures
**Given** workshop mode is active and internet is unavailable,
**When** background network requests fail (if any remain),
**Then:**
1. **No blocking error dialogs:**
   - Failed network requests logged to console (not shown to user)
   - Toast/banner warnings only (non-blocking)
   - Example: "Could not sync settings to cloud (offline mode)"
2. **Retry logic disabled:**
   - Don't retry failed API calls repeatedly (wastes resources)
   - Use exponential backoff or disable retries in workshop mode
3. **Console logs clean:**
   - Expected offline behavior: "Workshop Mode: Network feature disabled"
   - Unexpected errors: Clear indication of failure cause (not "network error")

**Validation:**
- ‚úÖ No alert/confirm dialogs blocking app usage
- ‚úÖ Console errors minimal (only expected offline warnings)
- ‚úÖ App remains responsive (no hanging requests)
- ‚úÖ User can continue workshop without dismissing errors

**Implementation Approach:**
```typescript
// src/services/api.ts
export async function apiCall(endpoint: string, options?: RequestInit) {
  if (isWorkshopMode()) {
    console.warn(`Workshop Mode: Skipping API call to ${endpoint}`);
    return null;
  }

  try {
    return await fetch(endpoint, options);
  } catch (error) {
    if (isNetworkError(error)) {
      console.warn('Offline: API call failed (expected)', endpoint);
      return null; // Graceful degradation
    }
    throw error; // Unexpected errors should still be thrown
  }
}
```

---

## Technical Approach

### Architecture Changes

**New File: `src/config/workshopMode.ts`** (~50 lines)
```typescript
/**
 * Workshop Mode Configuration
 * Disables cloud dependencies for offline workshop deployment
 */

export function isWorkshopMode(): boolean {
  return localStorage.getItem('workshop-mode') === 'true';
}

export function enableWorkshopMode(): void {
  localStorage.setItem('workshop-mode', 'true');
  console.log('Workshop Mode: Enabled');
}

export function disableWorkshopMode(): void {
  localStorage.removeItem('workshop-mode');
  console.log('Workshop Mode: Disabled');
}

/**
 * Feature flags for workshop mode
 */
export const workshopFeatures = {
  disableSupabase: true,
  disableStripe: true,
  disableAuth: true,
  disableSettingsSync: true,
  disableAnalytics: true,
  enableOfflineIndicator: true,
  useLocalStorageOnly: true
};

/**
 * Get current mode config
 */
export function getWorkshopConfig() {
  return {
    isWorkshopMode: isWorkshopMode(),
    features: isWorkshopMode() ? workshopFeatures : null
  };
}
```

---

**Modified: `src/hooks/useSettings.ts`**
```typescript
import { isWorkshopMode } from '@/config/workshopMode';

export function useSettings() {
  const [settings, setSettings] = useState(() => {
    // Load from localStorage
    const stored = localStorage.getItem('app-settings');
    return stored ? JSON.parse(stored) : defaultSettings;
  });

  // Save to localStorage only (skip Supabase in workshop mode)
  const saveSettings = useCallback((newSettings: Settings) => {
    setSettings(newSettings);
    localStorage.setItem('app-settings', JSON.stringify(newSettings));

    // Skip Supabase sync in workshop mode
    if (isWorkshopMode()) {
      console.log('Workshop Mode: Settings saved to localStorage only');
      return;
    }

    // Normal Supabase sync for non-workshop users
    syncToSupabase(newSettings);
  }, []);

  return { settings, saveSettings };
}
```

---

**Modified: `src/services/SupabaseSession.ts`**
```typescript
import { isWorkshopMode } from '@/config/workshopMode';

export async function initSupabaseSession() {
  if (isWorkshopMode()) {
    console.log('Workshop Mode: Supabase API disabled');
    return {
      user: { id: 'workshop-anonymous', email: 'workshop@local' },
      session: null,
      supabase: null
    };
  }

  // Normal Supabase initialization
  const { data, error } = await supabase.auth.getSession();
  if (error) {
    console.error('Supabase session error:', error);
    return null;
  }
  return data;
}
```

---

**New Component: `src/components/OfflineModeIndicator.tsx`** (~40 lines)
```typescript
import React from 'react';
import { Wifi, WifiOff } from 'lucide-react';
import { isWorkshopMode } from '@/config/workshopMode';

export function OfflineModeIndicator() {
  const workshopMode = isWorkshopMode();
  const [isOnline, setIsOnline] = React.useState(navigator.onLine);

  React.useEffect(() => {
    const handleOnline = () => setIsOnline(true);
    const handleOffline = () => setIsOnline(false);

    window.addEventListener('online', handleOnline);
    window.addEventListener('offline', handleOffline);

    return () => {
      window.removeEventListener('online', handleOnline);
      window.removeEventListener('offline', handleOffline);
    };
  }, []);

  if (!workshopMode) return null;

  return (
    <div className={`
      fixed top-0 left-0 right-0 z-50
      px-4 py-2 text-sm text-center
      ${isOnline ? 'bg-green-800 text-green-100' : 'bg-yellow-800 text-yellow-100'}
      transition-colors duration-300
    `}>
      {isOnline ? (
        <>
          <Wifi className="inline-block w-4 h-4 mr-2" />
          Workshop Mode - Online (settings saved locally)
        </>
      ) : (
        <>
          <WifiOff className="inline-block w-4 h-4 mr-2" />
          Workshop Mode - Offline (settings saved locally)
        </>
      )}
    </div>
  );
}
```

---

### Integration Points

#### Story 20.1 Integration
- **Dependency:** Story 20.3 builds on Story 20.1's workshop mode detection
- **Config Service:** WorkshopConfigService.loadConfig() sets `localStorage.setItem('workshop-mode', 'true')`
- **Feature Flags:** Once workshop mode activated, Story 20.3 feature flags take effect

#### Story 2.3 Integration (WLED Manager)
- **WLED Bridge:** Existing WebSocket bridge already works offline (localhost:8080)
- **HTTP API:** WLED devices respond to HTTP requests on local network
- **No Changes:** Story 2.3 WLED communication unchanged (already offline-capable)

#### Deferred Stories Integration
- **Story 7.10 (Supabase Sync):** Disabled via `isWorkshopMode()` check
- **Story 10.7 (Stripe License):** Bypassed via `useLicense()` hook returning workshop tier
- **Story 18.11 (Migration UI):** Hidden/disabled when workshop mode active

---

## Integration Verification (IV)

### IV1: All Workshop Features Functional Offline
**Verification Steps:**
1. Enable airplane mode on laptop (WiFi off)
2. Run `education/workshop-start.bat`
3. Verify browser opens to `/isometric`
4. Test all workshop features:
   - Play/pause sequencer ‚Üí works
   - Change tempo ‚Üí works, persists to localStorage
   - Edit patterns (click cells) ‚Üí works, persists to localStorage
   - WLED devices (if on same local network) ‚Üí connect and visualize
5. Refresh browser ‚Üí settings persist (localStorage working)

**Success Criteria:**
- ‚úÖ All features work with airplane mode enabled
- ‚úÖ Settings persist after refresh
- ‚úÖ No blocking errors in console

---

### IV2: Supabase Calls Eliminated
**Verification Steps:**
1. Start app in workshop mode
2. Open browser DevTools ‚Üí Network tab
3. Filter by "supabase" or check all network requests
4. Interact with app (change settings, play patterns, navigate routes)
5. Verify zero requests to `*.supabase.co` domains

**Success Criteria:**
- ‚úÖ Network tab shows zero Supabase API calls
- ‚úÖ Console logs show: "Workshop Mode: Supabase API disabled"
- ‚úÖ App functions normally without Supabase

---

### IV3: Graceful Degradation When Internet Available
**Verification Steps:**
1. Start app in workshop mode with internet enabled (WiFi on)
2. Verify workshop mode still active (localStorage flag takes precedence)
3. Verify Supabase API still disabled (workshop mode overrides internet availability)
4. Disable workshop mode ‚Üí restart app
5. Verify Supabase API calls resume (normal mode restored)

**Success Criteria:**
- ‚úÖ Workshop mode works with or without internet (flag-based, not network-based)
- ‚úÖ Disabling workshop mode restores cloud features
- ‚úÖ No conflicts between workshop mode and normal mode

---

## Manual Verification Steps

### Test 1: Workshop Mode Offline Startup (Airplane Mode)
**Prerequisites:** Workshop config exists, airplane mode enabled

**Steps:**
1. Enable airplane mode on laptop (WiFi off, all network disabled)
2. Run `education/workshop-start.bat`
3. Observe:
   - WLED bridge starts (localhost only)
   - Dev server starts (localhost only)
   - Browser opens to `http://localhost:5173`
4. Verify app loads and navigates to `/isometric`
5. Check browser console:
   - ‚úÖ "Workshop Mode: Activated"
   - ‚úÖ "Workshop Mode: Supabase API disabled"
   - ‚úÖ "Workshop Mode: License validation disabled"
   - ‚úÖ No network errors (expected behavior)
6. Test sequencer:
   - Click Play ‚Üí sequencer plays
   - Change tempo ‚Üí slider works, value persists
   - Edit pattern ‚Üí clicks register, pattern saves
7. Refresh browser ‚Üí verify settings persist

**Expected Result:**
- ‚úÖ App works 100% offline (airplane mode)
- ‚úÖ No blocking errors or dialogs
- ‚úÖ Settings persist via localStorage

---

### Test 2: Supabase API Disabled (Network Tab)
**Prerequisites:** Workshop mode active, browser DevTools open

**Steps:**
1. Open browser DevTools (F12) ‚Üí Network tab
2. Clear network log (trash icon)
3. Run `education/workshop-start.bat` ‚Üí app loads
4. Interact with app:
   - Navigate to `/isometric`
   - Change tempo 3 times
   - Edit pattern (click 10 cells)
   - Navigate to home, back to `/isometric`
5. Check Network tab ‚Üí filter for "supabase"
6. Verify zero requests to `*.supabase.co`
7. Check Console tab ‚Üí verify log: "Workshop Mode: Supabase API disabled"

**Expected Result:**
- ‚úÖ Zero Supabase API calls (verified via Network tab)
- ‚úÖ Console confirms Supabase disabled
- ‚úÖ Settings still persist (localStorage used instead)

---

### Test 3: License Validation Bypassed
**Prerequisites:** Workshop mode active, no valid Stripe license

**Steps:**
1. Remove any existing license keys from localStorage:
   ```javascript
   // Browser console
   localStorage.removeItem('stripe-license-key');
   localStorage.removeItem('license-tier');
   ```
2. Restart app in workshop mode
3. Verify no "upgrade required" prompts shown
4. Test gated features (if any):
   - Education mode ‚Üí accessible
   - WLED integration ‚Üí accessible
   - Advanced features ‚Üí accessible
5. Check console ‚Üí verify log: "Workshop Mode: License validation disabled"

**Expected Result:**
- ‚úÖ All features accessible without license
- ‚úÖ No Stripe API calls (verified via Network tab)
- ‚úÖ No "upgrade to pro" prompts or blocks

---

### Test 4: WLED Integration Offline (Local Network Only)
**Prerequisites:** Laptop + WLED tubes on mobile router (no internet)

**Steps:**
1. Connect laptop to mobile router WiFi
2. Disable internet access (router not connected to internet, or laptop firewall blocks)
3. Verify laptop can ping WLED devices:
   ```powershell
   ping 192.168.X.151
   ping 192.168.X.152
   # ... all 6 devices
   ```
4. Run `education/workshop-start.bat`
5. Verify `/isometric` loads with 6 WLED devices configured
6. Check device status in UI ‚Üí all show "Connected"
7. Play pattern ‚Üí verify WLED tubes light up synchronized
8. Check browser Network tab:
   - ‚úÖ WebSocket connection to `ws://localhost:8080` (connected)
   - ‚úÖ HTTP requests to `http://192.168.X.151/json/state` (local IPs)
   - ‚úÖ No external domain requests

**Expected Result:**
- ‚úÖ WLED tubes connect via local network (no internet needed)
- ‚úÖ LED visualization synced with sequencer
- ‚úÖ All 6 tubes functional offline

---

### Test 5: Graceful Degradation with Internet Available
**Prerequisites:** Workshop mode active, internet enabled

**Steps:**
1. Start app in workshop mode with internet (WiFi on, Google.com accessible)
2. Verify workshop mode still active:
   - Check localStorage: `workshop-mode` = `'true'`
   - Check console: "Workshop Mode: Activated"
3. Verify Supabase API still disabled (workshop mode overrides internet)
4. Check Network tab ‚Üí zero Supabase calls despite internet availability
5. Test offline mode indicator:
   - Should show "Workshop Mode - Online (settings saved locally)"
6. Disable workshop mode:
   ```javascript
   // Browser console
   localStorage.removeItem('workshop-mode');
   location.reload();
   ```
7. Verify Supabase API calls resume (normal mode restored)

**Expected Result:**
- ‚úÖ Workshop mode works with or without internet
- ‚úÖ Internet availability doesn't override workshop mode flag
- ‚úÖ Disabling workshop mode restores cloud features

---

## Definition of Done (DoD)

### Code Complete
- [ ] `src/config/workshopMode.ts` created with feature flags
- [ ] `src/hooks/useSettings.ts` modified to skip Supabase sync in workshop mode
- [ ] `src/services/SupabaseSession.ts` modified to bypass auth in workshop mode
- [ ] `src/hooks/useLicense.ts` modified to bypass Stripe in workshop mode (or created if doesn't exist)
- [ ] `src/components/OfflineModeIndicator.tsx` created (optional UI enhancement)
- [ ] No TypeScript errors or warnings

### Integration Complete
- [ ] Workshop mode flag (`localStorage.getItem('workshop-mode')`) detected app-wide
- [ ] Supabase API calls eliminated in workshop mode (verified via Network tab)
- [ ] Stripe license checks bypassed in workshop mode
- [ ] localStorage-only settings persistence working
- [ ] WLED integration functional offline (local network only)

### Testing Complete
- [ ] Test 1 (Airplane Mode Offline Startup) passes
- [ ] Test 2 (Supabase API Disabled) passes
- [ ] Test 3 (License Validation Bypassed) passes
- [ ] Test 4 (WLED Integration Offline) passes
- [ ] Test 5 (Graceful Degradation with Internet) passes
- [ ] All Integration Verification (IV1-IV3) tests pass

### Documentation Complete
- [ ] Code comments for `workshopMode.ts` functions
- [ ] Console logs for workshop mode feature flags (debugging)
- [ ] Offline mode indicator visible (optional UI element)
- [ ] Emergency manual commands tested (`EMERGENCY-MANUAL-COMMANDS.md`)

### Ready for Story 20.4 (Integration Testing)
- [ ] Workshop mode fully offline-capable
- [ ] No internet dependencies verified
- [ ] localStorage persistence working
- [ ] WLED + APC40 integration unaffected (if applicable)

---

## Dependencies

### Upstream (Required Before Starting)
- **Story 20.1:** Workshop Config Auto-Load (must complete first)
  - Provides workshop mode detection via config file
  - Sets `localStorage.setItem('workshop-mode', 'true')`

### Downstream (Enables These Stories)
- **Story 20.4:** Workshop Startup Integration Testing (full offline verification)

### No Dependency (Can Be Parallel)
- **Story 20.2:** APC40 LED Button Mapping (optional, MIDI API already offline-capable)

---

## Risk Mitigation

### Risk 1: Unexpected Network Requests Remain
**Likelihood:** MEDIUM
**Impact:** LOW (workshop works, but console errors logged)
**Mitigation:**
- Network tab audit during testing (Test 2)
- Console error monitoring
- Add global fetch interceptor to log unexpected requests in workshop mode
- Document any unavoidable requests as "expected warnings"

---

### Risk 2: Feature Breaks When Workshop Mode Disabled
**Likelihood:** LOW
**Impact:** HIGH (non-workshop users affected)
**Mitigation:**
- Integration Verification IV3 (graceful degradation test)
- Feature flag checks isolated to specific functions (not global app behavior)
- Rollback plan: Remove `workshop-mode` flag ‚Üí app reverts to normal mode

---

### Risk 3: localStorage Quota Exceeded
**Likelihood:** LOW
**Impact:** MEDIUM (settings don't persist, user loses data)
**Mitigation:**
- localStorage quota check: ~5-10MB typical limit
- Workshop settings minimal (<100KB for 6 devices + patterns)
- Error handling for localStorage quota errors
- Fallback: In-memory state only (session-based)

---

### Risk 4: WLED Devices Still Require Internet
**Likelihood:** LOW (WLED HTTP API is local)
**Impact:** CRITICAL (tubes don't light up)
**Mitigation:**
- WLED WebSocket bridge is localhost-only (no internet needed)
- WLED HTTP API uses local IPs (192.168.X.xxx)
- Test 4 verifies WLED offline (local network only)
- Emergency manual commands for WLED troubleshooting

---

## Success Metrics

### Functional Success
- ‚úÖ App works 100% offline (airplane mode test passes)
- ‚úÖ Zero Supabase API calls in workshop mode (Network tab verified)
- ‚úÖ Zero Stripe API calls in workshop mode (Network tab verified)
- ‚úÖ Settings persist via localStorage only (no cloud dependency)

### Integration Success
- ‚úÖ All IV tests pass (IV1: offline functional, IV2: Supabase eliminated, IV3: graceful degradation)
- ‚úÖ Story 20.1 workshop mode detection working
- ‚úÖ WLED integration functional offline (local network)

### Workshop Readiness
- ‚úÖ Instructor can run workshop with airplane mode enabled
- ‚úÖ No blocking errors or dialogs requiring internet
- ‚úÖ Emergency manual commands tested and documented

---

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|---------|
| 2025-10-20 | 1.0 | Initial story specification for offline-first mode verification | Dev Team |

---

**Story Owner:** Dev Team
**Related Epic:** Epic 20 - Workshop-Ready Education Mode
**Workshop Date:** Wednesday, October 22, 2025
**Status:** üìù PLANNING ‚Üí Ready for Implementation (after Story 20.1)
